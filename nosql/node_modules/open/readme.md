---
ms.openlocfilehash: faba66fd211251cabf9efd984bb907f35d419ce4
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050018"
---
# <a name="open"></a>فتح

> افتح أشياء مثل عناوين URL والملفات والملفات القابلة للتنفيذ. عبر منصة.

من المفترض أن يتم استخدام هذا في أدوات سطر الأوامر والبرامج النصية، وليس في المتصفح.

إذا كنت بحاجة إلى هذا لـElectron، فاستخدم [`shell.openPath()`](https://www.electronjs.org/docs/api/shell#shellopenpathpath) بدلًا من ذلك.

ملاحظة: ملاحظة: تم إهمال الحزمة [`open`الأصلية](https://github.com/pwnall/node-open) مسبقًا لصالح هذه الحزمة، وحصلنا على الاسم، لذلك تم تسمية هذه الحزمة الآن `open` بدلًا من `opn`. إذا كنت تقوم بالترقية من الحزمة الأصلية `open` (`open@0.0.5` أو أقل)، فضع في اعتبارك أن واجهة برمجة التطبيقات مختلفة.

#### <a name="why"></a>لماذا؟

- الحفاظ عليها بنشاط.
- يدعم وسيطات التطبيق.
- أكثر أمانًا لأنه يستخدم `spawn` بدلًا من `exec`.
- يعمل على إصلاح معظم المشكلات الأصلية `node-open` المفتوحة.
- يتضمن أحدث [برنامج نصي `xdg-open`](https://cgit.freedesktop.org/xdg/xdg-utils/commit/?id=c55122295c2a480fa721a9614f0e2d42b2949c18) لـLinux.
- يدعم مسارات WSL إلى تطبيقات Windows.

## <a name="install"></a>تثبيت

```
$ npm install open
```

## <a name="usage"></a>الاستخدام

```js
const open = require('open');

(async () => {
    // Opens the image in the default image viewer and waits for the opened app to quit.
    await open('unicorn.png', {wait: true});
    console.log('The image viewer app quit');

    // Opens the URL in the default browser.
    await open('https://sindresorhus.com');

    // Opens the URL in a specified browser.
    await open('https://sindresorhus.com', {app: 'firefox'});

    // Specify app arguments.
    await open('https://sindresorhus.com', {app: ['google chrome', '--incognito']});
})();
```

## <a name="api"></a>واجهة برمجة التطبيقات (API) 

يستخدم الأمر `open` على macOS و`start` على Windows و`xdg-open` على الأنظمة الأساسية الأخرى.

### <a name="opentarget-options"></a>open(target, options?)

إرجاع وعد [للعملية الفرعية المنتجة](https://nodejs.org/api/child_process.html#child_process_class_childprocess). لن تحتاج عادة إلى استخدام هذا لأي شيء، ولكن قد يكون مفيدًا إذا كنت ترغب في إرفاق مستمعين مخصصين للأحداث أو إجراء عمليات أخرى مباشرة على العملية المنتجة.

#### <a name="target"></a>الهدف

اكتب: `string`

الشيء الذي تريد فتحه. يمكن أن يكون عنوان URL أو ملفًا أو قابلًا للتنفيذ.

يفتح في التطبيق الافتراضي لنوع الملف. على سبيل المثال، يتم فتح عناوين URL في متصفحك الافتراضي.

#### <a name="options"></a>الخيارات

اكتب: `object`

##### <a name="wait"></a>انتظار

اكتب: `boolean`\
Default: `false`

انتظر حتى يخرج التطبيق المفتوح قبل الوفاء بالتعهد. إذا تم الوفاء بـ`false` على الفور عند فتح التطبيق.

لاحظ أنه ينتظر خروج التطبيق، وليس فقط حتى تغلق النافذة.

في Windows، يجب عليك تحديد تطبيق بشكل صريح حتى يتمكن من الانتظار.

##### <a name="background-supmacos-onlysup"></a>الخلفية <sup>(macOS فقط)</sup>

اكتب: `boolean`\
Default: `false`

لا تضع التطبيق في المقدمة.

##### <a name="app"></a>تطبيق

اكتب: `string | string[]`

حدد التطبيق المراد فتحه `target` باستخدامه، أو صفيفًا به وسيطات التطبيق والتطبيق.

يعتمد اسم التطبيق على النظام الأساسي. لا تقم بترميزه بشكل ثابت في وحدات قابلة لإعادة الاستخدام. على سبيل المثال، يعد Chrome `google chrome` على macOS و`google-chrome` على Linux و`chrome` على Windows.

يمكنك أيضًا المرور في المسار الكامل للتطبيق. على سبيل المثال على WSL، يمكن أن يكون `/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe` لتثبيت Chrome على Windows.

##### <a name="url"></a>عنوان url

اكتب: `boolean`\
Default: `false`

يستخدم `URL` لترميز الهدف قبل تنفيذه.<br>
لا نوصي باستخدامه على أهداف ليست عناوين URL.

مفيد بشكل خاص عند التعامل مع [علامات الاقتباس المزدوجة على تحذير Windows](#double-quotes-on-windows).

##### <a name="allownonzeroexitcode"></a>allowNonzeroExitCode

اكتب: `boolean`\
Default: `false`

اسمح للتطبيق المفتوح بالخروج باستخدام رمز خروج غير صفري عندما يكون الخيار `wait` على `true`.

لا نوصي بتعيين هذا الخيار. اتفاقية النجاح هي رمز الخروج صفر.

## <a name="caveats"></a>تحذيرات

### <a name="double-quotes-on-windows"></a>علامات تنصيص مزدوجة على Windows

TL;DR: يتم تجريد جميع علامات الاقتباس المزدوجة من الوجهة التي `target` تريدها ولا تصل إلى وجهتك المطلوبة (على Windows!).

نظرًا لسلوكيات محددة من موجه الأوامر (`cmd.exe`) الخاص بـWindow فيما يتعلق بحرف العطف (`&`) الذي يكسر الأوامر وعناوين URL، أصبحت علامات الاقتباس المزدوجة الآن حالة خاصة.

كان الحل ([# 146](https://github.com/sindresorhus/open/pull/146)) لهذه المشكلة وغيرها من المشاكل هو الاستفادة من حقيقة أن `cmd.exe` يفسر حجة مزدوجة الاقتباس على أنها حجة نص عادي فقط عن طريق الاقتباس منها (كما يفعل Node.js بالفعل). لسوء الحظ، `cmd.exe` لا يمكنه القيام إلا **بواحد** من شيئين: التعامل معها جميعًا **أو** عدم التعامل معها على الإطلاق. وفقًا لوثائقها الخاصة:

>*إذا تم تحديد /C أو /K، معالجة ما تبقى من سطر الأوامر بعد التبديل كسطر أوامر، حيث يتم استخدام المنطق التالي لمعالجة أحرف الاقتباس ():*
>
>    1.  *إذا تم استيفاء جميع الشروط التالية، يتم الاحتفاظ بأحرف الاقتباس في سطر الأوامر:*
>        - *لا يوجد مفتاح / S*
>        - *اثنين من أحرف الاقتباس بالضبط*
>        - *لا توجد أحرف خاصة بين حرفين اقتباسين، حيث يكون الخاص هو واحد من: &<>()@^|*
>        - *هناك حرف واحد أو أكثر من أحرف المسافة البيضاء بين حرفي الاقتباس*
>        - *السلسلة بين حرفي الاقتباس هي اسم ملف قابل للتنفيذ.*
>
>    2.  *خلاف ذلك، فإن السلوك القديم هو معرفة ما إذا كان الحرف الأول هو حرف اقتباس وإذا كان الأمر كذلك، فقم بتجريد الحرف البادئ وإزالة حرف الاقتباس الأخير في سطر الأوامر، مع الحفاظ على أي نص بعد حرف الاقتباس الأخير.*

كان الخيار الذي حل جميع المشكلات هو الخيار الثاني، ولمزيد من اتساق السلوك، نستخدم الآن `/S` أيضًا المفتاح، لذلك نحصل **دائمًا** على الخيار الثاني. التحذير هو أن هذا التعامل مع علامات الاقتباس المزدوجة المضمنة ينتهي به الأمر إلى تجريدها جميعا من سطر الأوامر وحتى الآن لم نتمكن من العثور على طريقة هروب تعمل (إذا قمت بذلك، فلا تتردد في المساهمة!).

لجعل هذا التحذير أقل تأثيرًا إلى حد ما (على الأقل بالنسبة لعناوين URL)، تحقق من [خيار عنوان URL](#url). سيتم "الحفاظ على" علامات الاقتباس المزدوجة عند استخدامها مع عنوان URL.

## <a name="related"></a>ذات الصلة

- [open-cli](https://github.com/sindresorhus/open-cli) - CLI لهذه الوحدة
- [open-editor](https://github.com/sindresorhus/open-editor) - فتح الملفات في المحرر الخاص بك في سطر وعمود معينين

---

<div align="center">
    <b>
        <a href="https://tidelift.com/subscription/pkg/npm-opn?utm_source=npm-opn&utm_medium=referral&utm_campaign=readme">احصل على دعم احترافي لهذه الحزمة من خلال اشتراك Tidelift</a>
    </b>
    <br>يساعد 
    <sub> Tidelift على جعل مصدر مفتوح مستدامة للمشرفين مع منح الشركات<br>ضمانات حول الأمن والصيانة والترخيص لتبعياتهم.
    </sub>
</div>
