---
ms.openlocfilehash: b8e00448fe7f8445c8e81302b03a852ee0f7e5cc
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050118"
---
<a name="aproba"></a>aproba
======

أداة التحقق من صحة وسيطة الدالة خفيفة الوزن كبير

```
var validate = require("aproba")

function myfunc(a, b, c) {
  // `a` must be a string, `b` a number, `c` a function
  validate('SNF', arguments) // [a,b,c] is also valid
}

myfunc('test', 23, function () {}) // ok
myfunc(123, 23, function () {}) // type error
myfunc('test', 23) // missing arg error
myfunc('test', 23, function () {}, true) // too many args error

```

الأنواع الصالحة هي:

| النوع | الوصف
| :--: | :----------
| *    | يطابق أي نوع
| A    | `Array.isArray` أو عنصر `arguments`
| S    | typeof == string
| -N    | typeof == number
| F#    | typeof == function
| -O    | typeof == كائن وليس النوع A وليس النوع E
| B    | typeof == boolean
| E    | `instanceof Error` أو `null` **(خاص: انظر أدناه)**
| Z    | == `null`

تؤدي حالات فشل التحقق من الصحة إلى إلقاء أحد أنواع الاستثناءات الثلاثة، التي تتميز بخاصية `code` لـ`EMISSINGARG` أو `EINVALIDTYPE` أو `ETOOMANYARGS`.

إذا مررت في نوع غير صالح، فسوف يتم رميه برمز `EUNKNOWNTYPE`.

إذا تم العثور على وسيطة **خطأ** ولم تكن فارغة، فإن الوسيطات المتبقية اختيارية.  أي إذا قلت `ESO`، فهذا يشبه استخدام `E` غير سحري في: `E|ESO|ZSO`.

### <a name="but-i-have-optional-arguments"></a>ولكن لدي وسيطات اختيارية؟!

يمكنك توفير أكثر من توقيع واحد عن طريق فصلها بالأنابيب `|`.
إذا تطابق أي توقيع مع الوسيطات، اعتبارها صالحة.

على سبيل المثال، لنفترض أنك تريد كتابة توقيع لـ`fs.createWriteStream`.  المستندات الخاصة به تصفها على النحو التالي:

```
fs.createWriteStream(path[, options])
```

سيكون هذا توقيعًا على `SO|S`.  أي سلسلة وكائن، أو مجرد سلسلة.

الآن، إذا قرأت مستندات `fs` الكاملة، فسترى أن المسار الفعلي يمكن أن يكون أيضًا مخزنًا مؤقتًا.  ويمكن أن تكون الخيارات سلسلة، أي:
```
path <String> | <Buffer>
options <String> | <Object>
```

لإعادة إنتاج هذا، يجب عليك تعداد جميع المجموعات الممكنة بالكامل وهذا يعني توقيع `SO|SS|OO|OS|S|O`.  الحماقة هي ميزة: إنها تذكرك بالتعقيد الذ تضيفه إلى واجهة برمجة التطبيقات عندما تفعل مثل هذا الشيء.


### <a name="browser-support"></a>دعم المستعرض

هذا ليس له تبعيات ويجب أن يعمل في المتصفحات، على الرغم من أنه سيكون لديك آثار مكدس أكثر ضوضاء.

### <a name="why-this-exists"></a>لماذا هذا موجود

أردت مدقق حجة بسيطًا جدًا. وكان عليها أن تفعل شيئين:

1. يكون أكثر إيجازًا وأسهل في الاستخدام من التأكيدات

2. لا يشجع على التخزين اللانهائي من DSLs

هذا هو السبب في تحديد الأنواع بواسطة حرف واحد ولا يوجد شيء اسمه وسيطة اختيارية. 

ولا يهدف ذلك إلى التحقق من صحة بيانات المستخدم. يتعلق الأمر تحديدًا بتأكيد واجهة وظائفك.

إذا كنت بحاجة إلى مزيد من التحقق من الصحة، فأنا أشجعك على كتابتها باليد أو البحث في مكان آخر.

