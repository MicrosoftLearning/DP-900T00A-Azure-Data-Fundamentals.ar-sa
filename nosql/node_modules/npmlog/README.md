---
ms.openlocfilehash: f445a828ea5ae5cba850b910d938f10a783a7ed8
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/05/2022
ms.locfileid: "138049928"
---
# <a name="npmlog"></a>npmlog

الأداة المساعدة للمسجل التي يستخدمها npm.

هذا المسجل أساسي جدًا.  يقوم بتسجيل npm.  وهو يدعم مستويات مخصصة وإخراج ملون.

بشكل افتراضي، تتم كتابة السجلات إلى stderr.  إذا كنت ترغب في إرسال رسائل سجل إلى مخرجات أخرى غير التدفقات، فيمكنك تغيير العضو `log.stream`، أو يمكنك فقط الاستماع إلى الأحداث التي ينبعث منها، والقيام بكل ما تريد معهم.

# <a name="installation"></a>التثبيت

```console
npm install npmlog --save
```

# <a name="basic-usage"></a>الاستخدام الأساسي

```javascript
var log = require('npmlog')

// additional stuff ---------------------------+
// message ----------+                         |
// prefix ----+      |                         |
// level -+   |      |                         |
//        v   v      v                         v
    log.info('fyi', 'I have a kitty cat: %j', myKittyCat)
```

## <a name="loglevel"></a>log.level

* {String}

المستوى المطلوب عرض السجلات فيه.  سيتم عرض أي سجلات عند هذا المستوى أو فوقه.  سيمنع المستوى `silent` الخاص أي شيء من العرض على الإطلاق.

## <a name="logrecord"></a>log.record

* {Array}

صفيف من كافة رسائل السجل التي تم إدخالها.

## <a name="logmaxrecordsize"></a>log.maxRecordSize

* {Number}

الحد الأقصى لعدد السجلات التي يجب الاحتفاظ بها.  إذا أصبح log.record أكبر من 10٪ فوق هذه القيمة، فيتم خفضه إلى 90٪ من هذه القيمة.

سبب نافذة 10٪ هو أنه لا يتعين عليها تغيير حجم صفيف كبير في كل إدخال سجل.

## <a name="logprefixstyle"></a>log.prefixStyle

* {Object}

كائن نمط يحدد كيفية تصميم البادئات.  (راجع أدناه)

## <a name="logheadingstyle"></a>log.headingStyle

* {Object}

كائن نمط يحدد كيفية نمط العنوان.  (راجع أدناه)

## <a name="logheading"></a>log.heading

* {String} Default: ""

إذا تم تعيينه، تتم طباعة عنوان في بداية كل سطر.

## <a name="logstream"></a>log.stream

* {Stream} Default: `process.stderr`

التدفق حيث يُكتب الإخراج.

## <a name="logenablecolor"></a>log.enableColor()

فرض استخدام الألوان على جميع الرسائل، بغض النظر عن دفق الإخراج.

## <a name="logdisablecolor"></a>log.disableColor()

تعطيل الألوان على جميع الرسائل.

## <a name="logenableprogress"></a>log.enableProgress()

تمكين عرض دوار نشاط السجل وشريط التقدم

## <a name="logdisableprogress"></a>log.disableProgress()

تعطيل عرض شريط التقدم

## <a name="logenableunicode"></a>log.enableUnicode()

فرض استخدام نسق unicode لشريط التقدم.

## <a name="logdisableunicode"></a>log.disableUnicode()

تعطيل استخدام unicode في شريط التقدم.

## <a name="logsetgaugetemplatetemplate"></a>log.setGaugeTemplate(template)

قم بتعيين قالب لإخراج شريط التقدم. راجع [وثائق المقياس] للتفاصيل.

[وثائق المقياس]: https://npmjs.com/package/gauge

## <a name="logsetgaugethemesetthemes"></a>log.setGaugeThemeset(themes)

حدد مجموعة نسق لاختيار نسق منها لشريط التقدم. راجع [وثائق المقياس] للتفاصيل.

## <a name="logpause"></a>log.pause()

توقف عن إرسال الرسائل إلى ساحة المشاركات، ولكن لا تسقطها.

## <a name="logresume"></a>log.resume()

إصدار كافة الرسائل المخزنة مؤقتًا التي تمت كتابتها في أثناء الإيقاف المؤقت.

## <a name="logloglevel-prefix-message-"></a>log.log(level, prefix, message, ...)

* `level` {String} مستوى إصدار الرسالة في
* `prefix` {String} بادئة سلسلة.  اضبط على "" لتخطيها.
* `message...` الوسيطات إلى `util.format`

إصدار رسالة سجل على المستوى المحدد.

## <a name="loglevel"></a>log\[level](prefix, message, ...)

على سبيل المثال،

* log.silly(prefix, message, ...)
* log.verbose(prefix, message, ...)
* log.info(prefix, message, ...)
* log.http(prefix, message, ...)
* log.warn(prefix, message, ...)
* log.error(prefix, message, ...)

مثل `log.log(level, prefix, message, ...)`.  بهذه الطريقة، يتم إعطاء كل مستوى اختصارًا، حتى تتمكن من القيام بـ`log.info(prefix, message)`.

## <a name="logaddlevellevel-n-style-disp"></a>log.addLevel(level, n, style, disp)

* `level` {String} مؤشر المستوى
* `n` {Number} المستوى الرقمي
* `style` {Object} كائن مع fg وbg وinverse، إلخ.
* `disp` {String} استبدال اختياري لـ`level` في الإخراج.

إعداد مستوى جديد مع وظيفة اختصار وما إلى ذلك.

لاحظ أنه إذا كان الرقم `Infinity`، فإن تعيين المستوى إلى ذلك سيؤدي إلى منع جميع رسائل السجل.  إذا كان الرقم `-Infinity`، فإن الطريقة الوحيدة لإظهاره هي تمكين جميع رسائل السجل.

## <a name="lognewitemname-todo-weight"></a>log.newItem(name, todo, weight)

* `name` {String} اختياري; اسم عنصر التقدم.
* `todo` {Number} اختياري; الكمية الإجمالية للعمل الذي يتعين القيام به. Default 0.
* `weight` {Number} اختياري; وزن هذا العنصر بالنسبة للآخرين. Default 1.

يؤدي ذلك إلى إضافة متعقب عنصر جديد `are-we-there-yet` إلى متعقب التقدم. يحتوي الكائن الذي تم إرجاعه على `log[level]` الطرق ولكنه كائن `are-we-there-yet``Tracker`.

## <a name="lognewstreamname-todo-weight"></a>log.newStream(name, todo, weight)

يؤدي ذلك إلى إضافة متعقب تدفق جديد `are-we-there-yet` إلى متعقب التقدم. يحتوي الكائن الذي تم إرجاعه على `log[level]` الطرق ولكنه كائن `are-we-there-yet``TrackerStream`.

## <a name="lognewgroupname-weight"></a>log.newGroup(name, weight)

يؤدي ذلك إلى إضافة مجموعة متعقب جديدة `are-we-there-yet` إلى متعقب التقدم. يحتوي الكائن الذي تم إرجاعه على `log[level]` الطرق ولكنه كائن `are-we-there-yet``TrackerGroup`.

# <a name="events"></a>حدث

تنبعث جميع الأحداث مع كائن الرسالة.

* `log` منبعثة لجميع الرسائل
* `log.<level>` تنبعث لجميع الرسائل في المستوى `<level>`.
* `<prefix>` الرسائل ذات البادئات تنبعث منها أيضًا بادئتها كحدث.

# <a name="style-objects"></a>كائنات النمط

يمكن أن تحتوي كائنات النمط على الحقول التالية:

* `fg` {String} لون النص الأمامي
* `bg` {String} لون الخلفية
* `bold`, `inverse`, `underline` {Boolean} تعيين الخاصية المقترنة
* `bell` {Boolean} اصنع ضوضاء (هذا مزعج جدًا، على الأرجح.)

# <a name="message-objects"></a>عناصر الرسالة

يتم إصدار كل حدث سجل مع عنصر الرسالة `log.record`، وتحتوي القائمة على كل منها التي تم إنشاؤها.  تتضمن الحقول التالية:

* `id` {Number}
* `level` {String}
* `prefix` {String}
* `message` {String} نتيجة لـ`util.format()`
* `messageRaw` {Array} الحجج المقدمة إلى `util.format()`

# <a name="blocking-ttys"></a>حظر TTYs

نحن نستخدم [`set-blocking`](https://npmjs.com/package/set-blocking) لتعيين stderr وstdout الحظر إذا كانوا tty ولديهم مكالمة setBlocking.
هذا هو الحل البديل لمشكلة في الإصدارات المبكرة من Node.js 6.x، مما جعل stderr وstdout غير محظورين على OSX. (إنهم دائمًا ما يحظرون على Windows ولم يحظروا أبدًا على Linux.) `npmlog` يحتاج منهم أن يحظروا بحيث يمكن أن يسمح للإخراج إلى stdout وـstderr بأن يكون متشابكًا.
