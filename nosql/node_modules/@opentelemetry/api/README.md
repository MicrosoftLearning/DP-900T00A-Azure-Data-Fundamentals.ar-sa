
---
<p align="center">
  <strong>
    <a href="https://open-telemetry.github.io/opentelemetry-js-api">API Documentation<a/> &nbsp;&nbsp;&bull;&nbsp;&nbsp; <a href="https://github.com/open-telemetry/opentelemetry-js/discussions">التواصل (GitHub Discussions)<a/>
  </strong>
</p>

<p align="center">
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/releases">
    <img alt="GitHub release (latest by date including pre-releases)" src="https://img.shields.io/github/v/release/open-telemetry/opentelemetry-js-api?include_prereleases&style=for-the-badge">
  </a>
  <a href="https://codecov.io/gh/open-telemetry/opentelemetry-js-api/branch/main/">
    <img alt="Codecov Status" src="https://img.shields.io/codecov/c/github/open-telemetry/opentelemetry-js-api?style=for-the-badge">
  </a>
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/blob/main/LICENSE">
    <img alt="license" src="https://img.shields.io/badge/license-Apache_2.0-green.svg?style=for-the-badge">
  </a>
  <br/>
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/docs.yaml">
    <img alt="Build Status" src="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/test.yaml/badge.svg?branch=main">
  </a>
  <a href="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/test.yaml?query=branch%3Amain">
    <img alt="Build Status" src="https://github.com/open-telemetry/opentelemetry-js-api/actions/workflows/docs.yaml/badge.svg">
  </a>
</p>

---

# <a name="opentelemetry-api-for-javascript"></a>OpenTelemetry API لجافا سكريبت

[![NPM Published Version][npm-img]][npm-url]
[![dependencies][dependencies-image]][dependencies-url]
[![devDependencies][devDependencies-image]][devDependencies-url]

توفر هذه الحزمة كل ما يلزم للتفاعل مع واجهة برمجة تطبيقات OpenTelemetry، بما في ذلك جميع واجهات TypeScript والتعداد والتطبيقات بدون تشغيل. الغرض منه هو استخدامه على الخادم وفي المتصفح.

لا تقوم الطرق الموجودة في هذه الحزمة بإجراء أي عمليات بشكل افتراضي. هذا يعني أنه يمكن استدعاؤها بأمان بواسطة مكتبة أو تطبيق مستخدم نهائي سواء كان هناك SDK مسجل أم لا. من أجل إنشاء بيانات القياس عن بعد وتصديرها، ستحتاج أيضاً إلى SDK مثل [OpenTelemetry JS SDK.][opentelemetry-js]

## <a name="tracing-quick-start"></a>تتبع البداية السريعة

### <a name="you-will-need"></a>سوف تحتاج إلى

- طلب ترغب في صوغه
- [OpenTelemetry JS SDK][opentelemetry-js]
- Node.js >= 8.5.0 (يفضل 14+) أو متصفح متوافق مع ECMAScript 5+

**ملاحظة:** توافق ECMAScript 5+ مخصص لهذه الحزمة فقط. يرجى الرجوع إلى الوثائق الخاصة بـSDK التي تستخدمها لتحديد الحد الأدنى من إصدار ECMAScript الخاص بها.

**ملحوظة لمؤلفي المكتبة:** المستخدمون النهائيون وحدهم سيحتاجون إلى OpenTelemetry SDK. إذا كنت ترغب في دعم OpenTelemetry في مكتبتك، فما عليك سوى استخدام واجهة برمجة تطبيقات OpenTelemetry. لمزيد من المعلومات، يرجى قراءة [وثائق التتبع][docs-tracing].

### <a name="install-dependencies"></a>تثبيت التبعيات

```sh
npm install @opentelemetry/api @opentelemetry/tracing
```

### <a name="trace-your-application"></a>تتبع تطبيقك

للبدء في التتبع، ستحتاج أولاً إلى تسجيل SDK. قد توفر SDK التي تستخدمها طريقة ملائمة تستدعي طرق التسجيل نيابة عنك، ولكن إذا كنت ترغب في الاتصال بها مباشرة، فهي موثقة هنا: [طرق تسجيل sdk][docs-sdk-registration].

بمجرد تسجيل SDK، يمكنك بدء وانهاء الامتدادات. مثال بسيط على تسجيل SDK الأساسي وتتبع عملية بسيطة أدناه. يجب أن يقوم المثال بتصدير نطاقات إلى وحدة التحكم مرة واحدة في الثانية. لمزيدٍ من المعلومات، راجع [وثائق التتبع][docs-tracing].

```javascript
const { trace }  = require("@opentelemetry/api");
const { BasicTracerProvider, ConsoleSpanExporter, SimpleSpanProcessor }  = require("@opentelemetry/tracing");

// Create and register an SDK
const provider = new BasicTracerProvider();
provider.addSpanProcessor(new SimpleSpanProcessor(new ConsoleSpanExporter()));
trace.setGlobalTracerProvider(provider);

// Acquire a tracer from the global tracer provider which will be used to trace the application
const name = 'my-application-name';
const version = '0.1.0';
const tracer = trace.getTracer(name, version);

// Trace your application by creating spans
async function operation() {
  const span = tracer.startSpan("do operation");

  // mock some work by sleeping 1 second
  await new Promise((resolve, reject) => {
    setTimeout(resolve, 1000);
  })

  span.end();
}

async function main() {
  while (true) {
    await operation();
  }
}

main();
```

## <a name="version-compatibility"></a>توافق الإصدار

نظراً لأن مثبت npm وخوارزمية دقة وحدة العقدة يمكن أن تسمح بوجود نسختين أو أكثر من أي حزمة معينة داخل نفس البنية `node_modules`، تستفيد واجهة برمجة تطبيقات OpenTelemetry من متغير على الكائن `global` لتخزين واجهة برمجة التطبيقات العمومية. عند استدعاء طريقة API في حزمة API، فإنها تتحقق مما إذا كانت واجهة برمجة التطبيقات `global` هذه موجودة وتقوم بالوكلاء بالاتصال بها إذا وفقط إذا كانت إصداراً متوافقاً من واجهة برمجة التطبيقات. هذا يعني أنه إذا كانت الحزمة تعتمد على إصدار واجهة برمجة تطبيقات OpenTelemetry غير متوافق مع واجهة برمجة التطبيقات المستخدمة من قبل المستخدم النهائي، فستتلقى الحزمة تطبيقاً بدون تشغيل لواجهة برمجة التطبيقات.

## <a name="upgrade-guidelines"></a>إرشادات الترقية

### <a name="0210-to-100"></a>0.21.0 إلى 1.0.0

لا توجد تغييرات مفاجئة

### <a name="0200-to-0210"></a>0.20.0 إلى 0.21.0

- [#78](https://github.com/open-telemetry/opentelemetry-js-api/issues/78)تم عكس وسيطات `api.context.bind` و`context` الآن وسيطة مطلوبة.
- [#46](https://github.com/open-telemetry/opentelemetry-js-api/issues/46) لم تعد فئات Noop وsingletons يتم تصديرها. لإنشاء نطاق noop، يوصى باستخدام `api.trace.wrapSpanContext` مع `INVALID_SPAN_CONTEXT` بدلاً من استخدام `NOOP_TRACER`.

### <a name="100-rc3-to-0200"></a>1.0.0-rc.3 إلى 0.20.0

- إزالة `TimedEvent` التي لم تكن جزءاً من المواصفات
- `HttpBaggage` تمت إعادة تسميته إلى `HttpBaggagePropagator`
- [#45](https://github.com/open-telemetry/opentelemetry-js-api/pull/45) `Span#context` تمت إعادة تسميته إلى `Span#spanContext`
- [#47](https://github.com/open-telemetry/opentelemetry-js-api/pull/47) `getSpan`/`setSpan`/`getSpanContext`/`setSpanContext` تم نقله إلى مساحة الاسم `trace`
- [#55](https://github.com/open-telemetry/opentelemetry-js-api/pull/55) `getBaggage`/`setBaggage`/`createBaggage` تم نقله إلى مساحة الاسم `propagation`

## <a name="useful-links"></a>روابط مفيدة

- لمزيد من المعلومات حول OpenTelemetry، يرجى زيارة: <https://opentelemetry.io/>
- لمزيد من المعلومات حول جافا سكريبت OpenTelemetry: <https://github.com/open-telemetry/opentelemetry-js>
- للحصول على مساعدة أو تعليقات حول هذا المشروع، انضم إلينا في [مناقشات GitHub][discussions-url]

## <a name="license"></a>الترخيص

Apache 2.0 - راجع [الترخيص][license-url] لمزيد من المعلومات.

[opentelemetry-js]: https://github.com/open-telemetry/opentelemetry-js

[discussions-url]: https://github.com/open-telemetry/opentelemetry-js/discussions
[license-url]: https://github.com/open-telemetry/opentelemetry-js-api/blob/main/LICENSE
[license-image]: https://img.shields.io/badge/license-Apache_2.0-green.svg?style=flat
[dependencies-image]: https://status.david-dm.org/gh/open-telemetry/opentelemetry-js-api.svg
[dependencies-url]: https://david-dm.org/open-telemetry/opentelemetry-js-api
[devDependencies-image]: https://status.david-dm.org/gh/open-telemetry/opentelemetry-js-api.svg?type=dev
[devDependencies-url]: https://david-dm.org/open-telemetry/opentelemetry-js-api?type=dev
[npm-url]: https://www.npmjs.com/package/@opentelemetry/api
[npm-img]: https://badge.fury.io/js/%40opentelemetry%2Fapi.svg
[docs-tracing]: https://github.com/open-telemetry/opentelemetry-js-api/blob/main/docs/tracing.md
[docs-sdk-registration]: https://github.com/open-telemetry/opentelemetry-js-api/blob/main/docs/sdk-registration.md
