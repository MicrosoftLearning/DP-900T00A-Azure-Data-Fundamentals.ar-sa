---
ms.openlocfilehash: 5f4ff1937c647160a418ca9c807267dc22e5e09f
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050112"
---
ملاحظة: الفرع الافتراضي تمت إعادة تسميته!
يسمى السيد الآن الرئيسي

إذا كان لديك نسخة محلية، يمكنك تحديثها عن طريق تشغيل:

```shell
git branch -m master main
git fetch origin
git branch -u origin/main main
```

# <a name="node-addon-api-module"></a>**node-addon-api module**
تحتوي هذه الوحدة النمطية على **فئات غلاف C ++ للعنوان** فقط والتي تبسط استخدام [Node-API](https://nodejs.org/dist/latest/docs/api/n-api.html) المستندة إلى C التي توفرها Node.js عند استخدام C++. يوفر نموذج كائن C++ واستثناء معالجة الدلالات مع انخفاض النفقات العامة.

هناك ثلاث خيارات لتنفيذ الإضافات: Node-API أو nan أو الاستخدام المباشر الداخلي المباشر لمكتبات V8 وlibuv وNode.js. ما لم تكن هناك حاجة للوصول المباشر إلى الوظائف التي لا يتم كشفها بواسطة Node-API كما هو موضح في [الوظائف الإضافية C / C ++](https://nodejs.org/dist/latest/docs/api/addons.html) في Node.js الأساسية، استخدم Node-API. ارجع إلى [الإضافات C/C++ مع واجهة برمجة تطبيقات Node-API](https://nodejs.org/dist/latest/docs/api/n-api.html) للحصول على مزيد من المعلومات حول واجهة برمجة تطبيقات العقدة.

Node-API هي واجهة C مستقرة ABI توفرها Node.js لبناء إضافات أصلية. إنه مستقل عن وقت تشغيل جافا سكريبت الأساسي (مثل V8 أو ChakraCore) ويتم الحفاظ عليه كجزء من Node.js نفسه. الغرض منه هو عزل الإضافات الأصلية عن التغييرات في محرك جافا سكريبت الأساسي والسماح للوحدات النمطية المجمعة لإصدار واحد بالعمل على الإصدارات الأحدث من Node.js دون إعادة تجميع.

تحافظ الوحدة النمطية `node-addon-api`، التي ليست جزءاً من Node.js، على فوائد Node-API لأنها تتكون فقط من رمز مضمن يعتمد فقط على واجهة برمجة التطبيقات المستقرة التي توفرها Node-API. على هذا النحو، يجب تشغيل الوحدات النمطية المبنية مقابل إصدار واحد من Node.js باستخدام node-addon-api دون الحاجة إلى إعادة بنائها باستخدام إصدارات أحدث من Node.js.

من المهم أن تتذكر أن واجهات Node.js *الأخرى* مثل `libuv` (المضمنة في مشروع عبر `#include <uv.h>`) ليست مستقرة ABI عبر الإصدارات الرئيسية لـNode.js. وبالتالي، يجب أن تستخدم الإضافة واجهة برمجة تطبيقات Node-API و / أو `node-addon-api` حصرياً وأن تبني مقابل إصدار من Node.js يتضمن تنفيذ Node-API (بمعنى إصدار LTS نشط من Node.js) من أجل الاستفادة من استقرار ABI عبر الإصدارات الرئيسية لـNode.js. يوفر Node.js [دليل استقرار ABI][] يحتوي على شرح مفصل لاستقرار ABI بشكل عام، وضمان استقرار Node-API ABI بشكل خاص.

عند إضافة واجهات برمجة تطبيقات جديدة إلى Node-API، يجب تحديث واجهة برمجة تطبيقات node-addon-api لتوفير أغلفة لواجهات برمجة التطبيقات الجديدة هذه. لهذا السبب يوفر node-addon-api طرقاً تسمح للمتصلين بالحصول على مقابض Node-API الأساسية بحيث يمكن استخدام المكالمات المباشرة إلى Node-API واستخدام الكائنات / الأساليب التي توفرها node-addon-api معاً. على سبيل المثال، من أجل التمكن من استخدام واجهة برمجة تطبيقات لا توفر واجهة برمجة تطبيقات العقدة الخاصة بها بعد غلافاً.

تستخدم واجهات برمجة التطبيقات التي يتم عرضها بواسطة node-addon-api بشكل عام لإنشاء قيم جافا سكريبت ومعالجتها. يتم تعيين المفاهيم والعمليات بشكل عام إلى الأفكار المحددة في **مواصفات لغة ECMA262**.

يوفر [مورد Node-API](https://nodejs.github.io/node-addon-examples/)  توجيهاً ممتازاً ونصائح للمطورين الذين بدأوا للتو في استخدام Node-API و node-addon-api.

- **[الإعداد](#setup)**
- **[مستندات API](#api)**
- **[أمثلة](#examples)**
- **[الاختبارات](#tests)**
- **[مزيد من الموارد والمعلومات حول الإضافات الأصلية](#resources)**
- **[الشارات](#badges)**
- **[قواعد السلوك](CODE_OF_CONDUCT.md)**
- **[المساهمون](#contributors)**
- **[الترخيص](#license)**

## <a name="current-version-321"></a>**الإصدار الحالي: 3.2.1**

(راجع [CHANGELOG.md](CHANGELOG.md) للحصول على سجل التغيير الكامل)

[![NPM](https://nodei.co/npm/node-addon-api.png?downloads=true&downloadRank=true)](https://nodei.co/npm/node-addon-api/) [![NPM](https://nodei.co/npm-dl/node-addon-api.png?months=6&height=1)](https://nodei.co/npm/node-addon-api/)

<a name="setup"></a>

تعتمد node-addon-api على Node-API وتدعم استخدام إصدارات [Node-API](https://nodejs.org/api/n-api.html) المختلفة.
يسمح هذا للإضافات التي تم إنشاؤها معها بالعمل مع إصدارات Node.js تدعم إصدار Node-API المستهدف.
**ومع ذلك**، فإن نموذج دعم node-addon-api هو دعم إصدارات LTS Node.js النشطة فقط. هذا يعني أنه في كل عام سيكون هناك تخصص جديد يسقط الدعم لإصدار LTS Node.js الذي خرج من الخدمة.

أقدم إصدار Node.js مدعوم من الإصدار الحالي من node-addon-api هو Node.js 10.x.

## <a name="setup"></a>الإعداد
  - [Installation and usage](doc/setup.md)
  - [node-gyp](doc/node-gyp.md)
  - [cmake-js](doc/cmake-js.md)
  - [Conversion tool](doc/conversion-tool.md)
  - [Checker tool](doc/checker-tool.md)
  - [Generator](doc/generator.md)
  - [Prebuild tools](doc/prebuild_tools.md)

<a name="api"></a>

### <a name="api-documentation"></a>**مستندات API**

فيما يلي وثائق node-addon-api.

 - [التسلسل الهرمي الكامل للفئة](doc/hierarchy.md)
 - [هيكل الملحق](doc/addon.md)
 - أنواع البيانات:
    - [Env](doc/env.md)
    - [CallbackInfo](doc/callbackinfo.md)
    - [‏‏المرجع](doc/reference.md)
    - [القيمة](doc/value.md)
        - [الاسم](doc/name.md)
            - [الرمز](doc/symbol.md)
            - [سلسلة](doc/string.md)
        - [الهاتف](doc/number.md)
        - [التاريخ](doc/date.md)
        - [BigInt](doc/bigint.md)
        - [منطقي](doc/boolean.md)
        - [خارجية](doc/external.md)
        - [عنصر](doc/object.md)
            - [صفيف](doc/array.md)
            - [ObjectReference](doc/object_reference.md)
    - [PropertyDescriptor](doc/property_descriptor.md)
    - [وظيفة](doc/function.md)
        - [FunctionReference](doc/function_reference.md)
    - [ObjectWrap](doc/object_wrap.md)
        - [ClassPropertyDescriptor](doc/class_property_descriptor.md)
    - [Buffer](doc/buffer.md)
    - [ArrayBuffer](doc/array_buffer.md)
    - [TypedArray](doc/typed_array.md)
      - [TypedArrayOf](doc/typed_array_of.md)
    - [DataView](doc/dataview.md)
 - [Error Handling](doc/error_handling.md)
    - [خطأ](doc/error.md)
      - [TypeError](doc/type_error.md)
      - [RangeError](doc/range_error.md)
 - [Object Lifetime Management](doc/object_lifetime_management.md)
    - [HandleScope](doc/handle_scope.md)
    - [EscapableHandleScope](doc/escapable_handle_scope.md)
 - [إدارة الذاكرة](doc/memory_management.md)
 - [Async Operations](doc/async_operations.md)
    - [AsyncWorker](doc/async_worker.md)
    - [AsyncContext](doc/async_context.md)
    - [AsyncWorker Variants](doc/async_worker_variants.md)
 - [Thread-safe Functions](doc/threadsafe.md)
    - [ThreadSafeFunction](doc/threadsafe_function.md)
    - [TypedThreadSafeFunction](doc/typed_threadsafe_function.md)
 - [Promises](doc/promises.md)
 - [Version management](doc/version_management.md)

<a name="examples"></a>

### <a name="examples"></a>**أمثلة**

هل أنت جديد على **node-addon-api**؟ ألق نظرة على **[أمثلتنا](https://github.com/nodejs/node-addon-examples)**

- **[Hello, world](https://github.com/nodejs/node-addon-examples/tree/HEAD/1_hello_world/node-addon-api)**
- **[تمرير وسيطات إلى دالة](https://github.com/nodejs/node-addon-examples/tree/HEAD/2_function_arguments/node-addon-api)**
- **[الاستدعاءات](https://github.com/nodejs/node-addon-examples/tree/HEAD/3_callbacks/node-addon-api)**
- **[مصنع الكائنات](https://github.com/nodejs/node-addon-examples/tree/HEAD/4_object_factory/node-addon-api)**
- **[مصنع الدوال](https://github.com/nodejs/node-addon-examples/tree/HEAD/5_function_factory/node-addon-api)**
- **[تلخيص كائن C++](https://github.com/nodejs/node-addon-examples/tree/HEAD/6_object_wrap/node-addon-api)**
- **[مصنع الكائن الملخص](https://github.com/nodejs/node-addon-examples/tree/HEAD/7_factory_wrap/node-addon-api)**
- **[تمرير كائن ملخص](https://github.com/nodejs/node-addon-examples/tree/HEAD/8_passing_wrapped/node-addon-api)**

<a name="tests"></a>

### <a name="tests"></a>**الاختبارات**

لتشغيل اختبارات **node-addon-api**، قم بما يلي:

```
npm install
npm test
```

لتجنب اختبار الأجزاء المهملة من تشغيل واجهة برمجة التطبيقات
```
npm install
npm test --disable-deprecated
```

لتشغيل الاختبارات التي تستهدف إصداراً معيناً من Node-API قيد التشغيل
```
npm install
export NAPI_VERSION=X
npm test --NAPI_VERSION=X
```

حيث X هو إصدار Node-API الذي تريد استهدافه.

### <a name="debug"></a>**تصحيح**

لتشغيل اختبارات **node-addon-api**، اختبر بالخيار `--debug`:

```
npm run-script dev
```

إذا كنت تريد إنشاء أسرع، فيمكنك استخدام الخيار التالي:

```
npm run-script dev:incremental
```

ألق نظرة واستلهم من **[مجموعة الاختبارات الخاصة](https://github.com/nodejs/node-addon-api/tree/HEAD/test)** بنا

### <a name="benchmarks"></a>**معايير**

يمكنك تشغيل المعايير المتوفرة باستخدام الأمر التالي:

```
npm run-script benchmark
```

راجع [benchmark/README.md](benchmark/README.md) لمزيد من التفاصيل حول تشغيل المعايير وإضافتها.

<a name="resources"></a>

### <a name="more-resource-and-info-about-native-addons"></a>**مزيد من الموارد والمعلومات حول الإضافات الأصلية**
- **[إضافات C++](https://nodejs.org/dist/latest/docs/api/addons.html)**
- **[Node-API](https://nodejs.org/dist/latest/docs/api/n-api.html)**
- **[Node-API - واجهة برمجة تطبيقات عقدة الجيل التالي للوحدات النمطية الأصلية](https://youtu.be/-Oniup60Afs)**
- **[كيف قمنا بترحيل Realm JavaScript من NAN إلى Node-API](https://developer.mongodb.com/article/realm-javascript-nan-to-n-api)**

نظراً لأن المهمة الأساسية لـnode-addon-api هي فضح واجهة برمجة تطبيقات C Node-API العادية كأغلفة C ++، يمكن نشر الأدوات التي تسهل n-api / node-addon-api التي توفر أنماطاً أكثر ملاءمة عند تطوير Node.js الوظائف الإضافية باستخدام n-api / node-addon-api إلى NPM كحزم مستقلة. يوصى أيضاً بوضع علامة على هذه الحزم بـ`node-addon-api` لتوفير المزيد من الرؤية للمجتمع.

روابط سريعة لعمليات البحث NPM: [keywords:node-addon-api](https://www.npmjs.com/search?q=keywords%3Anode-addon-api).

<a name="other-bindings"></a>

### <a name="other-bindings"></a>**روابط أخرى**

- **[napi-rs](https://napi.rs)** - (`Rust`)

<a name="badges"></a>

### <a name="badges"></a>**الشارات**

يوصى باستخدام الشارات للإشارة إلى الحد الأدنى من إصدار Node-API المطلوب للوحدة النمطية. يساعد ذلك في تحديد Node.js الإصدارات الرئيسية المدعومة. يمكن لمشرفي الوظائف الإضافية الرجوع إلى مصفوفة دعم Node-API لتحديد الإصدارات Node.js التي توفر إصداراً معيناً من [Node-API][]. تتوفر الشارات التالية:

![Node-API v1 Badge](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v1%20Badge.svg)
![Node-API v2 Badge](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v2%20Badge.svg)
![Node-API v3 Badge](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v3%20Badge.svg)
![Node-API v4 Badge](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v4%20Badge.svg)
![Node-API v5 Badge](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v5%20Badge.svg)
![Node-API v6 Badge](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v6%20Badge.svg)
![Node-API v7 Badge](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v7%20Badge.svg)
![Node-API v8 Badge](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20v8%20Badge.svg)
![Node-API Experimental Version Badge](https://github.com/nodejs/abi-stable-node/blob/doc/assets/Node-API%20Experimental%20Version%20Badge.svg)

## <a name="contributing"></a>**المساهمة**

نحن نحب المساهمات من المجتمع إلى **node-addon-api**!
راجع [CONTRIBUTING.md](CONTRIBUTING.md) لمزيد من التفاصيل حول فلسفتنا حول توسيع هذه الوحدة.

<a name="contributors"></a>

## <a name="team-members"></a>أعضاء الفريق

### <a name="active"></a>نشط
| الاسم                | رابط GitHub                                           |
| ------------------- | ----------------------------------------------------- |
| Anna Henningsen     | [addaleax](https://github.com/addaleax)               |
| Chengzhong Wu       | [legendecas](https://github.com/legendecas)           |
| Gabriel Schulhof    | [gabrielschulhof](https://github.com/gabrielschulhof) |
| Jim Schlight        | [jschlight](https://github.com/jschlight)             |
| Michael Dawson      | [mhdawson](https://github.com/mhdawson)               |
| Kevin Eady          | [KevinEady](https://github.com/KevinEady)
| Nicola Del Gobbo    | [NickNaso](https://github.com/NickNaso)               |

### <a name="emeritus"></a>فخري
| الاسم                | رابط GitHub                                           |
| ------------------- | ----------------------------------------------------- |
| Arunesh Chandra     | [aruneshchandra](https://github.com/aruneshchandra)   |
| Benjamin Byholm     | [kkoopa](https://github.com/kkoopa)                   |
| Jason Ginchereau    | [jasongin](https://github.com/jasongin)               |
| Hitesh Kanwathirtha | [digitalinfinity](https://github.com/digitalinfinity) |
| Sampson Gao         | [sampsongao](https://github.com/sampsongao)           |
| Taylor Woll         | [boingoing](https://github.com/boingoing)             |

<a name="license"></a>

مرخص بموجب [معهد ماساتشوستس للتكنولوجيا](./LICENSE.md)

[دليل استقرار ABI]: https://nodejs.org/en/docs/guides/abi-stability/
[مصفوفة دعم واجهة برمجة تطبيقات العقدة]: https://nodejs.org/dist/latest/docs/api/n-api.html#n_api_n_api_version_matrix
