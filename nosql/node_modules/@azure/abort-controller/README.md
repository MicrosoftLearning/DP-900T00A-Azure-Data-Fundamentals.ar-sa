---
ms.openlocfilehash: fe1a29595719e88783616e54c070b9b946052910
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050106"
---
# <a name="azure-abort-controller-library-for-javascript"></a>Azure Abort Controller library for JavaScript

توفر الحزمة `@azure/abort-controller` الفصول `AbortController` و`AbortSignal`. تتوافق هذه الفئات مع [AbortController](https://developer.mozilla.org/docs/Web/API/AbortController) المدمج في المتصفحات الحديثة و`AbortSignal` المستخدمة من قبل [fetch](https://developer.mozilla.org/docs/Web/API/Fetch_API).
`AbortController` استخدم الفئة `AbortSignal` لإنشاء مثيل للفئة يمكن استخدامه لإلغاء عملية في Azure SDK تقبل معلمة من النوع `AbortSignalLike`.

## <a name="getting-started"></a>الشروع في العمل

### <a name="installation"></a>التثبيت

قم بتثبيت هذه المكتبة باستخدام npm على النحو التالي

```
npm install @azure/abort-controller
```

## <a name="key-concepts"></a>المفاهيم الرئيسية

استخدم الـ`AbortController` لإنشاء `AbortSignal` يمكن بعد ذلك تمريرها إلى عمليات Azure SDK لإلغاء العمل المعلق. `AbortSignal` يمكن الوصول إليها عبر خاصية `signal` على نسخة `AbortController` متناهية.
يمكن أيضا إرجاع `AbortSignal` مباشرة من طريقة ثابتة، على سبيل المثال `AbortController.timeout(100)`.
التي يتم إلغاؤها بعد 100 مللي ثانية.

استدعاء `abort()` على إنشاء يستدعي `AbortController` مستمعي الحدث المسجلين `abort` على `AbortSignal` المرتبطة.
لن يكون لأي استدعاءات لاحقة لـ`abort()` على نفس وحدة التحكم أي تأثير.

ترجع الخاصية الثابتة `AbortSignal.none` `AbortSignal` التي لا يمكن إيقافها.

يمكن ربط مثيلات متعددة من `AbortSignal` بحيث يؤدي استدعاء `abort()` الإشارة الأم إلى إجهاض جميع الإشارات المرتبطة.
هذا الربط أحادي الاتجاه، مما يعني أن الإشارة الأم يمكن أن تؤثر على إشارة مرتبطة، ولكن ليس العكس.
لربط `AbortSignals` معًا، مرر الإشارات الأصلية إلى المنشئ `AbortController`.

## <a name="examples"></a>أمثلة

تفترض الأمثلة أدناه أن `doAsyncWork` دالة تأخذ بعض الخصائص، أحدها من إشارة الإيقاف.

### <a name="example-1---basic-usage"></a>مثال 1 - الاستخدام الأساسي

```js
import { AbortController } from "@azure/abort-controller";

const controller = new AbortController();
doAsyncWork({ abortSignal: controller.signal });

// at some point later
controller.abort();
```

### <a name="example-2---aborting-with-timeout"></a>مثال 2 - الإيقاف مع المهلة

```js
import { AbortController } from "@azure/abort-controller";

const signal = AbortController.timeout(1000);
doAsyncWork({ abortSignal: signal });
```

### <a name="example-3---aborting-sub-tasks"></a>المثال 3 - إيقاف المهام الفرعية

```js
import { AbortController } from "@azure/abort-controller";

const allTasksController = new AbortController();

const subTask1 = new AbortController(allTasksController.signal);
const subtask2 = new AbortController(allTasksController.signal);

allTasksController.abort(); // aborts allTasksSignal, subTask1, subTask2
subTask1.abort(); // aborts only subTask1
```

### <a name="example-4---aborting-with-parent-signal-or-timeout"></a>مثال 4 - الإيقاف باستخدام إشارة الأصل أو المهلة

```js
import { AbortController } from "@azure/abort-controller";

const allTasksController = new AbortController();

// create a subtask controller that can be aborted manually,
// or when either the parent task aborts or the timeout is reached.
const subTask = new AbortController(allTasksController.signal, AbortController.timeout(100));

allTasksController.abort(); // aborts allTasksSignal, subTask
subTask.abort(); // aborts only subTask
```

## <a name="contributing"></a>المساهمة

إذا كنت ترغب في المساهمة في هذه المكتبة، يرجى قراءة [دليل المساهمة](https://github.com/Azure/azure-sdk-for-js/blob/master/CONTRIBUTING.md) لمعرفة المزيد حول كيفية إنشاء التعليمات البرمجية واختبارها.

![مرات الظهور](https://azure-sdk-impressions.azurewebsites.net/api/impressions/azure-sdk-for-js%2Fsdk%2Fcore%2Fabort-controller%2FREADME.png)
