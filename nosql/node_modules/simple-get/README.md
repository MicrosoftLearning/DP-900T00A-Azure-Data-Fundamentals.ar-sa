---
ms.openlocfilehash: 8a2bc6cb8f4325149b5270a16fc4a84adaeec75e
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050016"
---
# <a name="simple-get-travistravis-imagetravis-url-npmnpm-imagenpm-url-downloadsdownloads-imagedownloads-url-javascript-style-guidestandard-imagestandard-url"></a>simple-get [![travis][travis-image]][travis-url] [![npm][npm-image]][npm-url] [![downloads][downloads-image]][downloads-url] [![javascript style guide][standard-image]][standard-url]

[travis-image]: https://img.shields.io/travis/feross/simple-get/master.svg
[travis-url]: https://travis-ci.org/feross/simple-get
[npm-image]: https://img.shields.io/npm/v/simple-get.svg
[npm-url]: https://npmjs.org/package/simple-get
[downloads-image]: https://img.shields.io/npm/dm/simple-get.svg
[downloads-url]: https://npmjs.org/package/simple-get
[standard-image]: https://img.shields.io/badge/code_style-standard-brightgreen.svg
[standard-url]: https://standardjs.com

### <a name="simplest-way-to-make-http-get-requests"></a>أبسط طريقة لجعل http تحصل على طلبات

## <a name="features"></a>features

هذه الوحدة هي أخف غلاف ممكن فوق node.js `http`، ولكنها تدعم هذه الميزات الأساسية:

- يتبع عمليات إعادة التوجيه
- يتعامل تلقائياً مع استجابات gzip/deflate
- يدعم HTTPS
- يدعم تحديد مهلة
- يدعم مفتاح الراحة `url` لذلك ليست هناك حاجة لاستخدام `url.parse` على عنوان URL عند تحديد الخيارات
- يتم تكوينه بشكل جيد مع حزم npm لميزات مثل ملفات تعريف الارتباط والبروكسيات وبيانات النماذج وOAuth

كل هذا في < 100 سطر من التعليمات البرمجية.

## <a name="install"></a>التثبيت

```
npm install simple-get
```

## <a name="usage"></a>الاستخدام

لاحظ أن كل هذه الأمثلة تعمل أيضاً في المتصفح مع [browserify](http://browserify.org/).

### <a name="simple-get-request"></a>طلب بسيط للحصول على

لا يصبح أسهل من هذا:

```js
const get = require('simple-get')

get('http://example.com', function (err, res) {
  if (err) throw err
  console.log(res.statusCode) // 200
  res.pipe(process.stdout) // `res` is a stream
})
```

### <a name="even-simpler-get-request"></a>حتى أبسط طلب GET

إذا كنت تريد البيانات فقط، ولا تريد التعامل مع التدفقات:

```js
const get = require('simple-get')

get.concat('http://example.com', function (err, res, data) {
  if (err) throw err
  console.log(res.statusCode) // 200
  console.log(data) // Buffer('this is the server response')
})
```

### <a name="post-put-patch-head-delete-support"></a>POST, PUT, PATCH, HEAD, DELETE support

لـ`POST`، استدعِ `get.post` أو استخدم الخيار `{ method: 'POST' }`.

```js
const get = require('simple-get')

const opts = {
  url: 'http://example.com',
  body: 'this is the POST body'
}
get.post(opts, function (err, res) {
  if (err) throw err
  res.pipe(process.stdout) // `res` is a stream
})
```

#### <a name="a-more-complex-example"></a>مثال أكثر تعقيداً:

```js
const get = require('simple-get')

get({
  url: 'http://example.com',
  method: 'POST',
  body: 'this is the POST body',

  // simple-get accepts all options that node.js `http` accepts
  // See: http://nodejs.org/api/http.html#http_http_request_options_callback
  headers: {
    'user-agent': 'my cool app'
  }
}, function (err, res) {
  if (err) throw err

  // All properties/methods from http.IncomingResponse are available,
  // even if a gunzip/inflate transform stream was returned.
  // See: http://nodejs.org/api/http.html#http_http_incomingmessage
  res.setTimeout(10000)
  console.log(res.headers)

  res.on('data', function (chunk) {
    // `chunk` is the decoded response, after it's been gunzipped or inflated
    // (if applicable)
    console.log('got a chunk of the response: ' + chunk)
  }))

})
```

### <a name="json"></a>JSON

يمكنك تسلسل/إلغاء تسلسل الطلب والاستجابة باستخدام JSON:

```js
const get = require('simple-get')

const opts = {
  method: 'POST',
  url: 'http://example.com',
  body: {
    key: 'value'
  },
  json: true
}
get.concat(opts, function (err, res, data) {
  if (err) throw err
  console.log(data.key) // `data` is an object
})
```

### <a name="timeout"></a>Timeout

يمكنك تعيين مهلة (بالمللي ثانية) على الطلب باستخدام الخيار `timeout`.
إذا استغرق الطلب وقتا أطول من `timeout` لإكماله، فسوف يفشل الطلب بأكمله مع `Error`.

```js
const get = require('simple-get')

const opts = {
  url: 'http://example.com',
  timeout: 2000 // 2 second timeout
}

get(opts, function (err, res) {})
```

### <a name="one-quick-tip"></a>نصيحة واحدة سريعة

من الجيد تعيين الرأس حتى يتمكن الموفر `'user-agent'` من رؤية كيفية استخدام مورده بسهولة أكبر.

```js
const get = require('simple-get')
const pkg = require('./package.json')

get('http://example.com', {
  headers: {
    'user-agent': `my-module/${pkg.version} (https://github.com/username/my-module)`
  }
})
```

### <a name="proxies"></a>Proxies

يمكنك استخدام الوحدة [`tunnel`](https://github.com/koichik/node-tunnel) النمطية مع خيار `agent` ليعمل مع الوكلاء:

```js
const get = require('simple-get')
const tunnel = require('tunnel')

const opts = {
  url: 'http://example.com',
  agent: tunnel.httpOverHttp({
    proxy: {
      host: 'localhost'
    }
  })
}

get(opts, function (err, res) {})
```

### <a name="cookies"></a>ملفات تعريف الارتباط

يمكنك استخدام الوحدة النمطية [`cookie`](https://github.com/jshttp/cookie) لتضمين ملفات تعريف الارتباط في الطلب:

```js
const get = require('simple-get')
const cookie = require('cookie')

const opts = {
  url: 'http://example.com',
  headers: {
    cookie: cookie.serialize('foo', 'bar')
  }
}

get(opts, function (err, res) {})
```

### <a name="form-data"></a>بيانات النموذج

يمكنك استخدام الوحدة النمطية [`form-data`](https://github.com/form-data/form-data) لإنشاء طلب POST باستخدام بيانات النموذج:

```js
const fs = require('fs')
const get = require('simple-get')
const FormData = require('form-data')
const form = new FormData()

form.append('my_file', fs.createReadStream('/foo/bar.jpg'))

const opts = {
  url: 'http://example.com',
  body: form
}

get.post(opts, function (err, res) {})
```

#### <a name="or-include-applicationx-www-form-urlencoded-form-data-manually"></a>أو قم بتضمين `application/x-www-form-urlencoded` بيانات النموذج يدوياً:

```js
const get = require('simple-get')

const opts = {
  url: 'http://example.com',
  form: {
    key: 'value'
  }
}
get.post(opts, function (err, res) {})
```

### <a name="specifically-disallowing-redirects"></a>عدم السماح بعمليات إعادة التوجيه على وجه التحديد

```js
const get = require('simple-get')

const opts = {
  url: 'http://example.com/will-redirect-elsewhere',
  followRedirects: false
}
// res.statusCode will be 301, no error thrown
get(opts, function (err, res) {})
```

### <a name="oauth"></a>Oauth

يمكنك استخدام الوحدة [`oauth-1.0a`](https://github.com/ddo/oauth-1.0a) النمطية لإنشاء طلب OAuth موقع:

```js
const get = require('simple-get')
const crypto  = require('crypto')
const OAuth = require('oauth-1.0a')

const oauth = OAuth({
  consumer: {
    key: process.env.CONSUMER_KEY,
    secret: process.env.CONSUMER_SECRET
  },
  signature_method: 'HMAC-SHA1',
  hash_function: (baseString, key) => crypto.createHmac('sha1', key).update(baseString).digest('base64')
})

const token = {
  key: process.env.ACCESS_TOKEN,
  secret: process.env.ACCESS_TOKEN_SECRET
}

const url = 'https://api.twitter.com/1.1/statuses/home_timeline.json'

const opts = {
  url: url,
  headers: oauth.toHeader(oauth.authorize({url, method: 'GET'}, token)),
  json: true
}

get(opts, function (err, res) {})
```

### <a name="throttle-requests"></a>طلبات التقييد

يمكنك استخدام [محدد](https://github.com/jhurliman/node-rate-limiter) لخنق الطلبات. هذا مفيد عند استدعاء واجهة برمجة تطبيقات محدودة المعدل.

```js
const simpleGet = require('simple-get')
const RateLimiter = require('limiter').RateLimiter
const limiter = new RateLimiter(1, 'second')

const get = (opts, cb) => limiter.removeTokens(1, () => simpleGet(opts, cb))
get.concat = (opts, cb) => limiter.removeTokens(1, () => simpleGet.concat(opts, cb))

var opts = {
  url: 'http://example.com'
}

get.concat(opts, processResult)
get.concat(opts, processResult)

function processResult (err, res, data) {
  if (err) throw err
  console.log(data.toString())
}
```

## <a name="license"></a>الترخيص

MIT. حقوق الطبع والنشر (C) [Feross Aboukhadijeh](http://feross.org).
