---
lab:
  title: استكشاف Azure SQL Database
  module: Explore relational data in Azure
---

# استكشاف Azure SQL Database

في هذا التمرين المعملي، ستتعلم كيفية توفير قاعدة بيانات Azure SQL والتفاعل معها باستخدام استعلامات SQL. ستستخدم قاعدة بيانات نموذج Microsoft AdventureWorks، والتي توفر جداول وبيانات مملوءة مسبقا، حتى تتمكن من التركيز على استكشاف البيانات العلائقية والاستعلام عنها دون الحاجة إلى إنشاء مخطط خاص بك أو إدراج نماذج من السجلات. يحافظ هذا النهج على الأمور مباشرة ويتيح لك التركيز على فهم مفاهيم قاعدة البيانات الأساسية وبناء جملة SQL.

سيستغرق إكمال هذا التمرين المعملي **15** دقيقة.

## قبل أن تبدأ

ستحتاج إلى [اشتراك Azure](https://azure.microsoft.com/free) حيث تمتلك وصول على المستوى الإداري.

## توفير مورد Azure SQL Database

1. في [مدخل](https://portal.azure.com?azure-portal=true) Microsoft Azure، حدد **&65291; أنشئ موردا** من الزاوية العلوية اليسرى وابحث عن `Azure SQL`. ثم في صفحة **Azure SQL** الناتجة، حدد «**Create**».

    ![لقطة شاشة لمدخل Azure تعرض Azure SQL في السوق](images/azure-sql-marketplace.png)

1. راجع خيارات Azure SQL المتوفرة، ثم في إطار «**SQL databases**»، تأكد من تحديد «**Single database**»، وحدد «**Create**».

    ![لقطة شاشة من مدخل Microsoft Azure تعرض صفحة "Azure SQL".](images/azure-sql-portal.png)

    > _**تلميح**: قاعدة البيانات الفردية هي أبسط وأسرع إعداد لهذا المختبر. تضيف الخيارات الأخرى إعدادات لا تحتاج إليها بعد._

1. أدخل القيم التالية في صفحة "**Create SQL Database**"، واترك جميع الخصائص الأخرى على الإعداد الافتراضي:
    - **الاشتراك**: حدد اشتراك Azure الخاص بك.
    - **مجموعة الموارد**: قم بإنشاء مجموعة موارد جديدة باسم من اختيارك.
    - **اسم** قاعدة البيانات: `AdventureWorks`
    - **Server**: حدد «**Create new**» وأنشئ خادماً جديداً باسم فريد في أي موقع متوفر. استخدم **مصادقة SQL** وحدد اسمك على أنه تسجيل دخول مسؤول الخادم وحدد كلمة مرور معقدة بشكل مناسب (تذكر كلمة المرور - ستحتاج إليها لاحقًا!)
    - **هل تريد استخدام تجمع مرن من SQL؟**: *No*
    - **بيئة حمل العمل**: التطوير
    - **Compute + storage**: اتركه دون تغيير
    - **تكرار تخزين النسخ الاحتياطي**: *Locally-redundant backup storage*

    > _**تلميح**: مصادقة SQL سريعة الإعداد لآخر (لا توجد خطوات إضافية لمعرف Microsoft Entra). الإعدادات الافتراضية للتطوير أرخص وسريعة. النسخ الاحتياطي المحلي هو الخيار منخفض التكلفة والغرامة لقاعدة بيانات الممارسة المؤقتة._

1. في صفحة "**Create SQL Database**"، حدد "**Next :Networking >**"، وفي صفحة "**Networking**" في القسم "**Network connectivity**"، حدد "**Public endpoint**". ثم حدد «**Yes**» لكلا الخيارين في قسم **Firewall rules** للسماح بالوصول إلى خادم قاعدة البيانات من خدمات Azure وعنوان IP للعميل الحالي.

    ![لقطة شاشة لمدخل Azure تعرض إعدادات الشبكة لقاعدة بيانات SQL](images/sql-database-network.png)

    > _**تلميح**: تتيح لك نقطة النهاية العامة + السماح ب IP الاتصال على الفور. جيد لمختبر قصير. في المشاريع الحقيقية، يمكنك عادة تأمين الوصول إلى المزيد._

1. حدد "**Next: Security >**" وعيّن الخيار "**Enable Microsoft Defender for SQL**" إلى "**Not now**".

    > _**تلميح**: Defender هو وظيفة أمان إضافية مدفوعة. نتخطى الأمر هنا لإبقاء الأمور بسيطة وتجنب التكلفة في تمرين قصير._

1. حدد "**Next: Additional Settings >**"، وفي علامة التبويب "**Additional settings**" عيّن الخيار "**Use existing data**" إلى "**Sample**" (سيؤدي ذلك إلى إنشاء عينة قاعدة بيانات يمكنك استكشافها لاحقًا).

    > _**تلميح**: تمنحك بيانات العينة جداول وصفوف جاهزة حتى تتمكن من البدء في الاستعلام على الفور._

1. حدد "**Review + Create**"، ثم حدد "**Create**" لإنشاء قاعدة بيانات Azure SQL.

1. يُرجى الانتظار لاكتمال التوزيع. ثم انتقل إلى المورد الذي تم توزيعه، والذي يجب أن يبدو كما يلي:

    ![لقطة شاشة لمدخل Microsoft Azure تعرض صفحة "SQL Database".](images/sql-database-portal.png)

1. في الجزء على الجانب الأيسر من الصفحة، حدد «**Query editor (preview)**» ثم سجل الدخول باستخدام تسجيل دخول المسؤول وكلمة المرور اللذان حددتهما للخادم.
    
    >**ملاحظة**: إذا تم عرض رسالة خطأ تفيد بأن عنوان IP للعميل غير مسموح به، فحدد **رابط Allowlist IP ...** في نهاية الرسالة للسماح بالوصول ومحاولة تسجيل الدخول مرة أخرى (قمت مسبقا بإضافة عنوان IP للعميل الخاص بالكمبيوتر الخاص بك إلى قواعد جدار الحماية، ولكن قد يتصل محرر الاستعلام من عنوان مختلف اعتمادا على تكوين الشبكة.)
    
    يبدو محرر الاستعلام كما يلي:
    
    ![لقطة شاشة لمدخل Microsoft Azure تعرض محرر الاستعلام.](images/query-editor.png)

1. وسّع مجلد **Tables** لمشاهدة الجداول في قاعدة البيانات.

1. في جزء **Query 1**، أدخل عبارة SQL التالية:

    ```sql
   SELECT * FROM SalesLT.Product;
    ```

    > _**تلميح**: SELECT * يعرض بسرعة كل عمود وبعض القيم. (في التطبيقات الحقيقية، عادة ما تتجنبها واختر الأعمدة التي تحتاج إليها فقط.)_

1. حدد "**&#9655; Run**" فوق الاستعلام لتشغيله وعرض النتائج، والتي يجب أن تشمل جميع الأعمدة لجميع الصفوف في الجدول "**SalesLT.Product**" كما هو موضح هنا:

    ![لقطة شاشة لمدخل Microsoft Azure تعرض محرر الاستعلام مع نتائج الاستعلام.](images/sql-query-results.png)

1. استبدل عبارة SELECT بالتعليمات البرمجية التالية، ثم حدد "**&#9655; Run**" لتشغيل الاستعلام الجديد ومراجعة النتائج (التي لا تتضمن إلا أعمدة "**ProductID**"، و"**Name**"، و"**ListPrice**"، و"**ProductCategoryID**"):

    ```sql
   SELECT ProductID, Name, ListPrice, ProductCategoryID
   FROM SalesLT.Product;
    ```

    > _**تلميح**: يؤدي سرد الأعمدة التي تحتاج إليها فقط إلى الاحتفاظ بالنتائج أصغر ويمكن تشغيلها بشكل أسرع._

1. الآن حاول الاستعلام التالي الذي يستخدم JOIN للحصول على اسم الفئة من جدول **SalesLT.ProductCategory**:

    ```sql
    SELECT 
        p.ProductID, 
        p.Name AS ProductName,
        c.Name AS Category, 
        p.ListPrice
    FROM SalesLT.Product AS p
    INNER JOIN SalesLT.ProductCategory AS c 
        ON p.ProductCategoryID = c.ProductCategoryID;
    ```

    > _**تلميح**: يوضح JOIN كيفية سحب البيانات ذات الصلة (اسم الفئة) من جدول آخر باستخدام معرف مطابق._

1. أغلق جزء محرر الاستعلام، وتجاهل عمليات التحرير.

> _**تلميح**: إذا انتهيت من استكشاف قاعدة بيانات Azure SQL، يمكنك حذف مجموعة الموارد التي قمت بإنشائها في هذا التمرين. يؤدي حذف مجموعة الموارد إلى إزالة كافة الموارد في خطوة واحدة. كما أنه يقلل من التكلفة._
